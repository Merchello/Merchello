<link href="/App_Plugins/Merchello/Common/Css/merchello.css" rel="stylesheet">

<div data-ng-controller="Merchello.Dashboards.Settings.ShippingController"
	 data-ng-show="loaded">

	<umb-panel>

		<umb-header>

			<div class="span4">
				<div class="umb-headline-editor-wrapper">
					<h1 class="umb-headline"><localize key="merchelloShipping_Shipping" /></h1>
				</div>
			</div>


			<div class="span8">
				<div class="btn-toolbar pull-right umb-btn-toolbar">

					<div class="btn-group">

					</div>

				</div>
			</div>

		</umb-header>

		<merchello-panel>

			<div class="merchello-pane row-fluid">
				<div class="control-group umb-control-group" data-ng-class="{ 'open': visible.warehouseListPanel, 'closed': !visible.warehouseListPanel }">
					<label class="merchello-control-label">
                        <localize key="merchelloShipping_editWarehouse" />
                        <localize key="merchelloShipping_editWarehouseHelper" />
					    <a data-ng-click="addWarehouse(primaryWarehouse)"><i class="icon-door-open"></i> <localize key="merchelloShipping_editWarehouse" /> </a>
					</label>

					<div class="merchello-controls">

						<div class="row-fluid span10 col-xs-10">

							<shipping-warehouse warehouse="primaryWarehouse"></shipping-warehouse>


							<!--
							<table class="table table-striped merchello-striped-table settings-table warehouse-table">
								<thead>
									<tr>
										<th>Primary</th>
										<th>Name</th>
										<th>Address</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr class="vcard" data-ng-repeat="warehouse in warehouses | orderBy:sortProperty">
										<td><input type="radio" name="primary" data-ng-click="changePrimaryWarehouse(warehouse)" data-ng-checked="warehouse.isDefault" /></td>
										<td class="org">{{warehouse.name}}</td>
										<td class="adr">
											<span class="street-address">{{warehouse.address1}}</span>
											<span class="extended-address">{{warehouse.address2}}</span>
											<span class="locality">{{warehouse.locality}}</span>, <span class="region">{{warehouse.region}}</span> <span class="postal-code">{{warehouse.postalCode}}</span>
										</td>
										<td class="edit">
											<div class="btn-toolbar umb-btn-toolbar">
												<a class="btn btn-default btn-xs btn-mini" data-ng-click="addWarehouse(warehouse)"><i class="icon-edit"></i></a> <a class="btn btn-warning btn-xs btn-mini" data-ng-click="deleteWarehouse(warehouse)">x</a>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
							-->
						</div>
					</div>
				</div>

				<!-- Property classes from Umbraco styles -->
				<div class="control-group umb-control-group" data-ng-class="{ 'open': visible.shippingMethodPanel, 'closed': !visible.shippingMethodPanel }">
					<label class="merchello-control-label">
                        <localize key="merchelloShipping_shippingMethods" />
					    <localize key="merchelloShipping_shippingMethodsHelper" />
					    <a data-ng-click="addCountry()"><i class="icon-map"></i><localize key="merchelloShipping_addCountry" /></a>
					</label>

					<div class="merchello-controls">

						<div class="row-fluid span10 col-xs-10">

							<div data-ng-repeat="country in countries | orderBy: 'sortHelper'" class="merchello-shipping-country">

								<!-- simply inherits this scope, doesn't create an isolate scope -->
								<shipping-country></shipping-country>

							</div>

						</div>

					</div>
				</div>
                
                <merchello-debug-section data-props-to-debug="warehouses,providers,countries"></merchello-debug-section>

			</div>

		</merchello-panel>

	</umb-panel>
</div>